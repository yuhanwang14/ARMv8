\documentclass[11pt]{article}

\usepackage{fullpage}
\usepackage[outputdir=out]{minted}
\usemintedstyle{arduino}

\usepackage{fullpage}

\begin{document}

\title{ARM Final Report}
\author{Bingshi Xu(bx223), Henry Wu(hw2823), Lei Ye(ky723), Yuhan Wang(yw8123)}

\maketitle

\section{Assembler Implementation Strategies}
\subsection{Overview}
\begin{itemize}
    \item \texttt{assemble}: Contains the main program loop
    \item \texttt{two-pass}: Implementation of the two-pass method
    \item \texttt{parser}: Resolves alias, Parses single instruction, Calls helper parsers
    \item \texttt{branch-parser}: Parses branching instructions
    \item \texttt{dir-parser}: Parses directives ('.int' only for this implementation)
    \item \texttt{dp-parser}: Parses data processing instructions
    \item \texttt{dt-parser}: Parses data transfer instructions
    \item \texttt{util}: Misc utilities
\end{itemize}

\subsection{Two-pass}
The \texttt{set-input} function accepts a file name as a string input and stores the path in a local variable. Then, the 
\texttt{first-pass} function is called, which counts the total number of lines (excluding any empty or label lines) in the 
file, records all the labels' information as a pair(literal: String, line number: Int) into an array-based map, and removes line comments. 
Afterwards, the \texttt{read-into} function splits the file contents by line. Finally, the \texttt{substitute-labels} function 
reads one line at a time and substitutes all the labels with their corresponding values from the previously created table.

\subsection{Parser}
The parser accepts one line of instruction each time, and dispatches the appropriate particular parser for each case.
Due to the special argument format of the address for Data transfer instructions, a special handler will handle seperation 
of arguemnts for DTIs and determining the addressing mode for such instructions. For all other types, the main parser seperates 
the arguments using the strtok function from <String.h>, then check if any alias presents in this line, changing the 
opcode and the arguments accordingly. The standard parsers for each type of instructions is then called to parse the binary 
code for the instruction.

\section{Testing Our Implementation}
We used the given test cases and passed all of the 592 test cases.
We also used valgrind on all test cases to detect memory leaks, no leak is detected in the most recent version.

\section{Raspberry Pi: Blinking the LED}
XXXXXXXXXXXXXXXXXXXXXXXXXXX

\section{Difficulties}
\subsection{understanding the spec}
Our group decided to split the team into two, hence the assembler team didn't work on the emulator part, which caused problems due to lack of understanding of how the machine codes work.
Also, part 2 is poorly documented and we had to continuously refer back to the part one contents which created problems.
\subsection{classification of instruction types}
Many of the instructions have similar arguments, and deciding how to seperate these instructions took quite much time.
\subsection{memory leaks}
Due to lack of experience, our first working version leaked enormous memory, and we had to rewrite many modules as our original prototypes contain too many mallocs and are difficult to free.

\section{Group Reflection}
XXXXXXXXXXXXXXXXXXXXXXXXXXX

\section{Individual Reflections}

\subsection{Bingshi Xu}
Overall, I would consider the collaborating experience demanding but enjoyable. I've been assigned to work on parser for assembler in our first meet up.
Starting with absolutely no knowledge in C nor assembly language, my first days on this project had been struggling. 
In particular, I found understanding the spec challenging, as many of the details for encoding had been skipped in the spec for part two, probably because of 
the information had been covered in part one. 
Luckily, my teammates who worked on emulators are helpful and provided supports on the aspects that I didn't know without working on the emulator.
Moreover, I have learned to use Git when working with others, including how to use branchs and version to avoid unexpected problems followed a bug fix.
I've enjoyed the experience of working in a group and is more confident in doing so after this project.  

\subsection{Henry Wu}
The C group project was challenging yet fun. My main task is to implement the two-pass methods and the assembler main functions for part II. 
Initially, my C programming skills were still developing, and concepts like pointers, memory leaks, 
and Git commands were confusing. Besides, I had difficulties and confusion of the spec content about assembler, 
and need to continuously scroll back to previous parts of the spec for more details. However my supportive 
group mates came in and helped me grasp these concepts quickly, and through active learning, I steadily improved my understanding. 
This not only allowed me to contribute more effectively to the project but also solidified the value of continuous 
learning and teamwork in overcoming programming hurdles.

\subsection{Lei Ye}
XXXXXXXXXXXXXXXXXXXXXXXXXXX

\subsection{Yuhan Wang}
Collaborating with my group members on our project was a highly rewarding 
experience. I primarily focused on developing the emulator for Part 1 and 
writing the Checkpoint report. At first, I found it challenging to get 
comfortable with Git operations and version control, but mastering these 
skills proved crucial for effective teamwork. I particularly enjoyed solving 
technical issues, such as sign extension and converting word-indexed memory 
to byte-indexed memory. Overcoming these challenges gave me a great sense of 
satisfaction. Overall, programming as part of a team was both valuable and 
enriching for my personal and professional growth.


\end{document}
